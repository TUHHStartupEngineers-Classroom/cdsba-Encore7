{
  "hash": "2e048aeb9fa4e0b154a591ba253d0c26",
  "result": {
    "markdown": "---\ntitle: \"Difference-in-Differences\"\n---\n\n\n# Assignment\n\n------------------------------------------------------------------------\n\n> Loading the data set hospdd\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-1_3ecad87e3cb64df1113c5ec02585b12a'}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\ndf_hospdd  <- readRDS(\"../../Causal_Data_Science_Data/hospdd.rds\")\nhead(df_hospdd)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"hospital\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"frequency\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"month\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"procedure\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"satis\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"3\",\"3\":\"7\",\"4\":\"1\",\"5\":\"4.106527\"},{\"1\":\"1\",\"2\":\"2\",\"3\":\"3\",\"4\":\"0\",\"5\":\"3.319475\"},{\"1\":\"1\",\"2\":\"4\",\"3\":\"2\",\"4\":\"0\",\"5\":\"3.411720\"},{\"1\":\"1\",\"2\":\"2\",\"3\":\"4\",\"4\":\"1\",\"5\":\"3.004025\"},{\"1\":\"1\",\"2\":\"1\",\"3\":\"3\",\"4\":\"0\",\"5\":\"3.110720\"},{\"1\":\"1\",\"2\":\"1\",\"3\":\"7\",\"4\":\"1\",\"5\":\"2.882164\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n> Hospitals in which the new admission procedure was implemented\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-2_84f82885345334b20a4d3d24c16e2fa3'}\n\n```{.r .cell-code}\ntreatment_hospital <- df_hospdd %>%\n  group_by(hospital) %>%\n  summarise(procedure_count = sum(procedure))\n\ntreatment_hospital\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"hospital\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"procedure_count\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"92\"},{\"1\":\"2\",\"2\":\"84\"},{\"1\":\"3\",\"2\":\"76\"},{\"1\":\"4\",\"2\":\"100\"},{\"1\":\"5\",\"2\":\"100\"},{\"1\":\"6\",\"2\":\"100\"},{\"1\":\"7\",\"2\":\"116\"},{\"1\":\"8\",\"2\":\"88\"},{\"1\":\"9\",\"2\":\"80\"},{\"1\":\"10\",\"2\":\"84\"},{\"1\":\"11\",\"2\":\"88\"},{\"1\":\"12\",\"2\":\"80\"},{\"1\":\"13\",\"2\":\"92\"},{\"1\":\"14\",\"2\":\"76\"},{\"1\":\"15\",\"2\":\"76\"},{\"1\":\"16\",\"2\":\"84\"},{\"1\":\"17\",\"2\":\"72\"},{\"1\":\"18\",\"2\":\"44\"},{\"1\":\"19\",\"2\":\"0\"},{\"1\":\"20\",\"2\":\"0\"},{\"1\":\"21\",\"2\":\"0\"},{\"1\":\"22\",\"2\":\"0\"},{\"1\":\"23\",\"2\":\"0\"},{\"1\":\"24\",\"2\":\"0\"},{\"1\":\"25\",\"2\":\"0\"},{\"1\":\"26\",\"2\":\"0\"},{\"1\":\"27\",\"2\":\"0\"},{\"1\":\"28\",\"2\":\"0\"},{\"1\":\"29\",\"2\":\"0\"},{\"1\":\"30\",\"2\":\"0\"},{\"1\":\"31\",\"2\":\"0\"},{\"1\":\"32\",\"2\":\"0\"},{\"1\":\"33\",\"2\":\"0\"},{\"1\":\"34\",\"2\":\"0\"},{\"1\":\"35\",\"2\":\"0\"},{\"1\":\"36\",\"2\":\"0\"},{\"1\":\"37\",\"2\":\"0\"},{\"1\":\"38\",\"2\":\"0\"},{\"1\":\"39\",\"2\":\"0\"},{\"1\":\"40\",\"2\":\"0\"},{\"1\":\"41\",\"2\":\"0\"},{\"1\":\"42\",\"2\":\"0\"},{\"1\":\"43\",\"2\":\"0\"},{\"1\":\"44\",\"2\":\"0\"},{\"1\":\"45\",\"2\":\"0\"},{\"1\":\"46\",\"2\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\nThe above Table shows that out of 46 hospitals, hospitals with label 1 to 18 had the new admission procedure whereas the hospitals with label 19 to 46 had the old admission procedure.\n\n> Months in which the new admission procedure was implemented\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-3_2979a906fac32caa8687342b042b019a'}\n\n```{.r .cell-code}\ntreatment_month <- df_hospdd %>%\n  group_by(month) %>%\n  summarise(procedure_count = sum(procedure))\n\ntreatment_month\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"month\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"procedure_count\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"0\"},{\"1\":\"2\",\"2\":\"0\"},{\"1\":\"3\",\"2\":\"0\"},{\"1\":\"4\",\"2\":\"383\"},{\"1\":\"5\",\"2\":\"383\"},{\"1\":\"6\",\"2\":\"383\"},{\"1\":\"7\",\"2\":\"383\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nThe above Table shows that out of 7 months, months with label 4,5,6 and 7 had the new admission procedure whereas the months with label 1,2 and 3 had the old admission procedure.\n\n::: callout-note\n\n* Treatment variable = procedure\n* Before Treatment:\n  + Treatment Group: 18 hospitals before month 4\n  + Control Group: 28 hospitals before month 4\n* After Treatment:\n  + Treatment Group: 18 hospitals from month 4\n  + Control Group: 28 hospitals from month 4\n  \n:::\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-4_4474fc55e13407bbc7265cc8e032dda7'}\n\n```{.r .cell-code}\ntreatment_hospital <- df_hospdd %>%\n  group_by(hospital, month) %>%\n  summarise(procedure_count = sum(procedure), .groups = 'drop')\n\ntreatment_hospital\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"hospital\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"month\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"procedure_count\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"1\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"1\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"1\",\"2\":\"4\",\"3\":\"23\"},{\"1\":\"1\",\"2\":\"5\",\"3\":\"23\"},{\"1\":\"1\",\"2\":\"6\",\"3\":\"23\"},{\"1\":\"1\",\"2\":\"7\",\"3\":\"23\"},{\"1\":\"2\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"2\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"2\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"2\",\"2\":\"4\",\"3\":\"21\"},{\"1\":\"2\",\"2\":\"5\",\"3\":\"21\"},{\"1\":\"2\",\"2\":\"6\",\"3\":\"21\"},{\"1\":\"2\",\"2\":\"7\",\"3\":\"21\"},{\"1\":\"3\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"3\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"3\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"3\",\"2\":\"4\",\"3\":\"19\"},{\"1\":\"3\",\"2\":\"5\",\"3\":\"19\"},{\"1\":\"3\",\"2\":\"6\",\"3\":\"19\"},{\"1\":\"3\",\"2\":\"7\",\"3\":\"19\"},{\"1\":\"4\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"4\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"4\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"4\",\"2\":\"4\",\"3\":\"25\"},{\"1\":\"4\",\"2\":\"5\",\"3\":\"25\"},{\"1\":\"4\",\"2\":\"6\",\"3\":\"25\"},{\"1\":\"4\",\"2\":\"7\",\"3\":\"25\"},{\"1\":\"5\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"5\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"5\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"5\",\"2\":\"4\",\"3\":\"25\"},{\"1\":\"5\",\"2\":\"5\",\"3\":\"25\"},{\"1\":\"5\",\"2\":\"6\",\"3\":\"25\"},{\"1\":\"5\",\"2\":\"7\",\"3\":\"25\"},{\"1\":\"6\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"6\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"6\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"6\",\"2\":\"4\",\"3\":\"25\"},{\"1\":\"6\",\"2\":\"5\",\"3\":\"25\"},{\"1\":\"6\",\"2\":\"6\",\"3\":\"25\"},{\"1\":\"6\",\"2\":\"7\",\"3\":\"25\"},{\"1\":\"7\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"7\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"7\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"7\",\"2\":\"4\",\"3\":\"29\"},{\"1\":\"7\",\"2\":\"5\",\"3\":\"29\"},{\"1\":\"7\",\"2\":\"6\",\"3\":\"29\"},{\"1\":\"7\",\"2\":\"7\",\"3\":\"29\"},{\"1\":\"8\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"8\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"8\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"8\",\"2\":\"4\",\"3\":\"22\"},{\"1\":\"8\",\"2\":\"5\",\"3\":\"22\"},{\"1\":\"8\",\"2\":\"6\",\"3\":\"22\"},{\"1\":\"8\",\"2\":\"7\",\"3\":\"22\"},{\"1\":\"9\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"9\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"9\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"9\",\"2\":\"4\",\"3\":\"20\"},{\"1\":\"9\",\"2\":\"5\",\"3\":\"20\"},{\"1\":\"9\",\"2\":\"6\",\"3\":\"20\"},{\"1\":\"9\",\"2\":\"7\",\"3\":\"20\"},{\"1\":\"10\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"10\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"10\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"10\",\"2\":\"4\",\"3\":\"21\"},{\"1\":\"10\",\"2\":\"5\",\"3\":\"21\"},{\"1\":\"10\",\"2\":\"6\",\"3\":\"21\"},{\"1\":\"10\",\"2\":\"7\",\"3\":\"21\"},{\"1\":\"11\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"11\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"11\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"11\",\"2\":\"4\",\"3\":\"22\"},{\"1\":\"11\",\"2\":\"5\",\"3\":\"22\"},{\"1\":\"11\",\"2\":\"6\",\"3\":\"22\"},{\"1\":\"11\",\"2\":\"7\",\"3\":\"22\"},{\"1\":\"12\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"12\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"12\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"12\",\"2\":\"4\",\"3\":\"20\"},{\"1\":\"12\",\"2\":\"5\",\"3\":\"20\"},{\"1\":\"12\",\"2\":\"6\",\"3\":\"20\"},{\"1\":\"12\",\"2\":\"7\",\"3\":\"20\"},{\"1\":\"13\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"13\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"13\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"13\",\"2\":\"4\",\"3\":\"23\"},{\"1\":\"13\",\"2\":\"5\",\"3\":\"23\"},{\"1\":\"13\",\"2\":\"6\",\"3\":\"23\"},{\"1\":\"13\",\"2\":\"7\",\"3\":\"23\"},{\"1\":\"14\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"14\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"14\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"14\",\"2\":\"4\",\"3\":\"19\"},{\"1\":\"14\",\"2\":\"5\",\"3\":\"19\"},{\"1\":\"14\",\"2\":\"6\",\"3\":\"19\"},{\"1\":\"14\",\"2\":\"7\",\"3\":\"19\"},{\"1\":\"15\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"15\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"15\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"15\",\"2\":\"4\",\"3\":\"19\"},{\"1\":\"15\",\"2\":\"5\",\"3\":\"19\"},{\"1\":\"15\",\"2\":\"6\",\"3\":\"19\"},{\"1\":\"15\",\"2\":\"7\",\"3\":\"19\"},{\"1\":\"16\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"16\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"16\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"16\",\"2\":\"4\",\"3\":\"21\"},{\"1\":\"16\",\"2\":\"5\",\"3\":\"21\"},{\"1\":\"16\",\"2\":\"6\",\"3\":\"21\"},{\"1\":\"16\",\"2\":\"7\",\"3\":\"21\"},{\"1\":\"17\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"17\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"17\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"17\",\"2\":\"4\",\"3\":\"18\"},{\"1\":\"17\",\"2\":\"5\",\"3\":\"18\"},{\"1\":\"17\",\"2\":\"6\",\"3\":\"18\"},{\"1\":\"17\",\"2\":\"7\",\"3\":\"18\"},{\"1\":\"18\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"18\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"18\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"18\",\"2\":\"4\",\"3\":\"11\"},{\"1\":\"18\",\"2\":\"5\",\"3\":\"11\"},{\"1\":\"18\",\"2\":\"6\",\"3\":\"11\"},{\"1\":\"18\",\"2\":\"7\",\"3\":\"11\"},{\"1\":\"19\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"19\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"19\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"19\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"19\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"19\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"19\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"20\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"21\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"22\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"23\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"24\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"25\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"26\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"27\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"28\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"29\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"30\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"31\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"32\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"33\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"34\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"35\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"36\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"37\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"38\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"39\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"40\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"41\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"42\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"43\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"44\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"45\",\"2\":\"7\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"1\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"2\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"3\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"4\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"5\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"6\",\"3\":\"0\"},{\"1\":\"46\",\"2\":\"7\",\"3\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Task 1:\n\n> Mean satisfaction for treated and control hospitals before and after the treatment\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-5_587ec63491117c363a33e5608d0770a7'}\n\n```{.r .cell-code}\n# Step 1: Subset the data for treatment and control hospitals\ntreated_hospitals <- df_hospdd %>% filter(procedure == 1)\ncontrol_hospitals <- df_hospdd %>% filter(procedure == 0)\n\n# Step 2: Compute mean satisfaction for treated hospitals before and after treatment\nmean_satis_before_treated <- treated_hospitals %>%\n  filter(month < 4) %>%\n  pull(satis) %>%\n  mean(na.rm = TRUE)\nmean_satis_before_treated = 0\n\nmean_satis_after_treated <- treated_hospitals %>%\n  filter(month >= 4) %>%\n  pull(satis) %>%\n  mean(na.rm = TRUE)\n\n# Step 3: Compute mean satisfaction for control hospitals before and after treatment\nmean_satis_before_control <- control_hospitals %>%\n  filter(month < 4) %>%\n  pull(satis) %>%\n  mean(na.rm = TRUE)\n\nmean_satis_after_control <- control_hospitals %>%\n  filter(month >= 4) %>%\n  pull(satis) %>%\n  mean(na.rm = TRUE)\n\n# Step 4: Print the results\ncat(\"Mean Satisfaction - Before (Treated):\", mean_satis_before_treated, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean Satisfaction - Before (Treated): 0\n```\n:::\n\n```{.r .cell-code}\ncat(\"Mean Satisfaction - After (Treated):\", mean_satis_after_treated, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean Satisfaction - After (Treated): 4.363351\n```\n:::\n\n```{.r .cell-code}\ncat(\"Mean Satisfaction - Before (Control):\", mean_satis_before_control, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean Satisfaction - Before (Control): 3.447765\n```\n:::\n\n```{.r .cell-code}\ncat(\"Mean Satisfaction - After (Control):\", mean_satis_after_control, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Mean Satisfaction - After (Control): 3.38249\n```\n:::\n:::\n\n\n> DiD\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-6_d99dce51dcd235b82db1f6b4b0a7925b'}\n\n```{.r .cell-code}\ndiff_before_treatment = mean_satis_before_treated - mean_satis_before_control\ndiff_after_treatment = mean_satis_after_treated - mean_satis_after_control\n\ndid_estimate <- diff_after_treatment - diff_before_treatment\ndid_estimate\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] 4.428627\n```\n:::\n:::\n\n\n### Task 2:\n\n* month + hospital\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-7_86b57c97dbdb5a02c6d643e36bd71bc8'}\n\n```{.r .cell-code}\nmodel1<- lm(satis ~ month + hospital, data = df_hospdd)\nmodel1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satis ~ month + hospital, data = df_hospdd)\n#> \n#> Coefficients:\n#> (Intercept)        month     hospital  \n#>     3.75972      0.07207     -0.01760\n```\n:::\n:::\n\n* as.factor(month) + as.factor(hospital)\n\n\n::: {.cell hash='08_did_cache/html/unnamed-chunk-8_37c785f4aef0fb85065d63130446ff75'}\n\n```{.r .cell-code}\nmodel2 <- lm(satis ~ as.factor(month) + as.factor(hospital), data = df_hospdd)\nmodel2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> \n#> Call:\n#> lm(formula = satis ~ as.factor(month) + as.factor(hospital), \n#>     data = df_hospdd)\n#> \n#> Coefficients:\n#>           (Intercept)      as.factor(month)2      as.factor(month)3  \n#>              3.419332              -0.009608               0.021969  \n#>     as.factor(month)4      as.factor(month)5      as.factor(month)6  \n#>              0.349354               0.343235               0.348800  \n#>     as.factor(month)7   as.factor(hospital)2   as.factor(hospital)3  \n#>              0.341444               0.408566               0.533625  \n#>  as.factor(hospital)4   as.factor(hospital)5   as.factor(hospital)6  \n#>              0.227510              -0.145353               0.447863  \n#>  as.factor(hospital)7   as.factor(hospital)8   as.factor(hospital)9  \n#>              1.404416               0.071876              -1.518515  \n#> as.factor(hospital)10  as.factor(hospital)11  as.factor(hospital)12  \n#>              1.682845               0.220965              -0.095303  \n#> as.factor(hospital)13  as.factor(hospital)14  as.factor(hospital)15  \n#>              0.495593               0.233043              -0.144494  \n#> as.factor(hospital)16  as.factor(hospital)17  as.factor(hospital)18  \n#>              1.414268               0.423543               0.153276  \n#> as.factor(hospital)19  as.factor(hospital)20  as.factor(hospital)21  \n#>             -1.169296              -0.376607               0.770343  \n#> as.factor(hospital)22  as.factor(hospital)23  as.factor(hospital)24  \n#>              0.375321               0.277726              -0.732120  \n#> as.factor(hospital)25  as.factor(hospital)26  as.factor(hospital)27  \n#>              0.222480              -0.209747              -0.822648  \n#> as.factor(hospital)28  as.factor(hospital)29  as.factor(hospital)30  \n#>              0.288001              -0.175443              -0.591916  \n#> as.factor(hospital)31  as.factor(hospital)32  as.factor(hospital)33  \n#>              0.088091              -0.747340              -0.877969  \n#> as.factor(hospital)34  as.factor(hospital)35  as.factor(hospital)36  \n#>             -0.424406              -0.069883               1.714149  \n#> as.factor(hospital)37  as.factor(hospital)38  as.factor(hospital)39  \n#>             -0.283590              -0.510800              -0.447491  \n#> as.factor(hospital)40  as.factor(hospital)41  as.factor(hospital)42  \n#>              0.697539              -0.573729               0.457143  \n#> as.factor(hospital)43  as.factor(hospital)44  as.factor(hospital)45  \n#>             -1.196426              -0.389582              -0.637743  \n#> as.factor(hospital)46  \n#>             -0.345502\n```\n:::\n:::\n\n\n>Interpretation:\n\n* Model 1 assumes that month and hospital are numeric variables, and it models a linear relationship between these numeric variables and satis.\n\n* Model 2 treats month and hospital as factors (categorical variables), and it models the categorical effects of each level of month and hospital on satis.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}